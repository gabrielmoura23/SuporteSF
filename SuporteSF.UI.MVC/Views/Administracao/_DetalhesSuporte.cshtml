@using Microsoft.AspNet.Identity
@model ProjetoBomNegocio.Models.Tab_Suporte

<div class="modal-content">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">Detalhes do Chamado: @Model.idsuporte</h3>
    </div>
    <div>
        @using (Html.BeginForm("Salvar", "Administracao", FormMethod.Post, new { role = "form" }))
        {
            @Html.AntiForgeryToken()
            @Html.ValidationSummary("", new { @class = "text-danger" })

            @Html.HiddenFor(model => model.idsuporte)
            @Html.HiddenFor(model => model.data_alteracao, new { @Value=System.DateTime.Now.ToString("dd/MM/yyyy") })
            @Html.HiddenFor(model => model.idusuario_alteracao, new { @Value = User.Identity.GetUserId() })

            <div class="form-horizontal  modal-body">
                <table border="0" align="center" cellpadding="0" cellspacing="0" class="table table-striped table-bordered">
                    <tr>
                        <td><strong>Data de Abertura:</strong> @Html.DisplayFor(model => model.data_abertura)</td>
                    </tr>
                    <tr>
                        <td><strong>Data de Atendimento:</strong> @Html.DisplayFor(model => model.data_atendimento)</td>
                    </tr>
                    <tr>
                        <td><strong>Data de Fechamento:</strong> @Html.DisplayFor(model => model.data_fechamento)</td>
                    </tr>
                    <tr>
                        <td><strong>Descrição do Chamado:</strong> @Html.DisplayFor(model => model.descricao)</td>
                    </tr>
                    <tr>
                        <td><strong>Status:</strong> @Html.DisplayFor(model => model.status)</td>
                    </tr>
                    <tr>
                        <td><strong>Prioridade:</strong> @Html.DisplayFor(model => model.prioridade)</td>
                    </tr>
                    <tr>
                        <td><strong>Sistema Operacional:</strong> @Html.DisplayFor(model => model.sistema_operacional)</td>
                    </tr>
                    <tr>
                        <td><strong>Problema Recorrente:</strong> @Html.DisplayFor(model => model.problema_recorrente)</td>
                    </tr>
                    <tr>
                        <td><strong>E-mail:</strong> @Html.DisplayFor(model => model.email)</td>
                    </tr>
                    <tr>
                        <td><strong>Telefone:</strong> @Html.DisplayFor(model => model.ddd_telefone) - @Html.DisplayFor(model => model.telefone)</td>
                    </tr>
                    <tr>
                        <td><strong>Melhor Horário:</strong> @Html.DisplayFor(model => model.melhor_horario)</td>
                    </tr>
                    <tr>
                        <td><strong>Usuário Contribuiu em agradecimento:</strong> @Html.DisplayFor(model => model.valor_contribuicao)</td>
                    </tr>
                    <tr>
                        <td><strong>Solução para o Problema:</strong>@{ if (Model.status.ToUpper().Equals("ABERTO"))
                                                                        { @Html.TextAreaFor(model => model.descr_solucao, new { rows = "3" }) } else { @Html.DisplayFor(model => model.descr_solucao) } } </td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer ">
                <button type="submit" class="btn blue">Salvar</button>
                <button class="btn  btn-default" data-dismiss="modal" aria-hidden="true">Fechar</button>
            </div>
        }

    </div>
</div>
